{% extends "layout.jinja2" %}

{% block content %}
    <p>Your container was successfully created.</p>
    <p>You will be able to publish it once it finishes processing the content.</p>

    <div>
        <p>Current status:&nbsp;
            <span id="container-status">Unknown</span>
        </p>
    </div>

    <div id="status-explanation"></div>

    <p id="error-message"></p>

    <form id="form" action="/publish" method="POST">
        <input id="container-id" type="hidden" name="containerId" value="{{ containerId }}">
        <input id="submit" class="threads-button" type="submit" value="Publish" disabled="disabled">
    </form>

    <template id="template-status-FINISHED">
        <p>All set! You can publish your thread now. 🧵</p>
    </template>
    <template id="template-status-IN_PROGRESS">
        <p>Your content is still processing. The status will be refreshed automatically. ⏳</p>
    </template>
    <template id="template-status-ERROR">
        <p>Publish failed. ❌</p>
    </template>
{% endblock %}

{% block scripts %}
    <script src={{ url_for('static', filename = 'scripts/form.js') }} type="text/javascript"></script>
    <script src={{ url_for('static', filename = 'scripts/publish.js') }} type="text/javascript"></script>
{% endblock %}
